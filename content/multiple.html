<!DOCTYPE html>
 <head>
	<title>CS 290 How-To: JHutter</title>
	<link rel="stylesheet" href="../css/style.css">
</head>
<body>
	
	<div id="header">
		<h1>How-To Guide: BLS Public Data API</h1>
	</div>
	
	
	<div id="nav"></div>


		
	<div id="section">
		<H3>Multiple Series</H3>

		<p>If you need to compare information for multiple series IDs, you 
		can send up to 50 series IDs in a single POST request, with or without 
		parameters.</p>
		
		<h3>Sending A Payload</h3>
		
		<p>When sending a signature with multiple series IDs, you should set 
		the header to Content-Type=application/x-www-form-urlencoded. In the 
		payload, the seriesID attribute will have the seriesIDs separated by 
		commas. See the code example below:</p>
		
		<div class="code-sample">
		<pre>
		var baseURL = 'http://api.bls.gov/publicAPI/v2/timeseries/data/';
		var seriesIDs = ['OEUN000000054192027402104', 'OEUN000000054192027402103'];
		var signature = "seriesid=";
		for (var i = 0; i = seriesIDs.length; i++) {
			signature += seriesIDs[i] + ',';
		}
		signature = signature.substring(0,signature.length-1);
		
		var req = new XMLHttpRequest();
		req.open("POST", baseURL, false);
		req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		req.send(signature);
		console.log(JSON.parse(req.responseText));
		</pre>
		</div>
		
		<p>In this example, we are requesting the annual wage and hourly wage 
		data for photographers nationally, both from the same program. Notice that we specified 
		request as POST and set the content type. In the http request that we opened, we specified 
		the base URL but did not add the signature on in this place; instead, we used req.send(signature) 
		to send it because it's a POST request not a GET request.
		
		<h3>Sending a JSON Object</h3>
		
		<p>text here, include some code</p>
	</div>


	<div id="footer"></div>
	

<script src="../js/menu.js"></script>
<script src="../js/footer.js"></script>
</body>   
</html>    